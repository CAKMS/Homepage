(function(){var t;t=function(e,n){var i,r,o;return i=[],"string"==typeof e&&"<"===e[0]?(o=e.match(/<(.*)\/>|<(.*)>/),i=[document.createElement(null!=(r=o[1])?r:o[2])]):"string"==typeof e&&void 0===n?document.querySelectorAll(e).forEach(function(t){return i.push(t)}):"string"==typeof n?i=t(e).find(n).toArray():e instanceof NodeList?e.forEach(function(t){return i.push(t)}):Array.isArray(e)||!0===(null!=e?e.isSelector:void 0)?(i=i.concat(e),n=null!=(e=e.selector)?e.context:void 0):(e instanceof HTMLElement||e instanceof HTMLDocument||e instanceof HTMLBodyElement||e===window)&&(i=[e]),i.selector="string"==typeof e?e:null,i.context="string"==typeof n?n:null,Object.defineProperties(i,t.fn),Object.defineProperty(i,"isSelector",{value:!0}),i},window.ts=t,t.fn={},t.helper={},t.helper.eventAlias=function(t){var e,n;switch(e=void 0!==(n=t.split("."))[1]?`.${n[1]}`:"",!1){case-1===n.indexOf("animationend"):return`webkitAnimationEnd${e} mozAnimationEnd${e} MSAnimationEnd${e} oanimationend${e} animationend${e}`;case-1===n.indexOf("transitionend"):return`webkitTransitionEnd${e} mozTransitionEnd${e} oTransitionEnd${e} msTransitionEnd${e} transitionend${e}`;default:return t}},t.isPlainObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints},t.extend=function(){var e,n,i,r,o;for(n={},e=!0,i=0,r=arguments.length,"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],i++),o=function(i){var r;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e&&"[object Object]"===Object.prototype.toString.call(i[r])?n[r]=t.extend(!0,n[r],i[r]):n[r]=i[r])};i<r;)o(arguments[i]),i++;return n},t.createElement=(t=>{var e;return(e=document.createElement("div")).innerHTML=t.trim(),e.firstChild}),t.register=(({NAME:e,MODULE_NAMESPACE:n,Settings:i},r)=>t.fn[e]={value:function(o){var s,u,a,l,c,h,f,v;return s=t(this),h=arguments[0],f=[].slice.call(arguments,1),c="string"==typeof h,v=void 0,u=(t=>`%c${e}%c ${t[0]}${t.length>1?"\n":void 0}`),a=`${l="background   : #EEE;\ncolor        : #5A5A5A;\nfont-size    : 1em;\npadding      : 5px 8px;\nline-height  : 30px;\nborder-radius: 1000em;"}\nbackground: #CE5F58;\ncolor: #FFF;`,"font-weight: bold;",s.each(function(e,d){var p,g,m,$,b,y,A,E,w,S,T;return p=t(this),m=this,y=p.data(n),T=t.isPlainObject(o)?t.extend(i,o):t.extend(i),$=function(){if(!T.silent)return($=Function.prototype.bind.call(console.error,console,u(arguments),a,"font-weight: bold;")).apply(console,Array.prototype.slice.call(arguments,1))},A=(()=>(w.instantiate(),y=w,p.data(n,y))),b=(()=>(w.initialize(),T.observeChanges&&S(),A())),S=(()=>{var t;if(!(!1 in window))return(t=new MutationObserver(t=>(g("DOM 樹狀結構已變更，更新快取資料"),w.refresh()))).observe(m,{childList:!0,subtree:!0}),g("已設置 DOM 樹狀結構異動觀察者",t);g("找不到樹狀結構變更觀測者，略過結構監聽動作",m)}),E=((e,n,i)=>{var r,o,u,a,l,c,h,d,p;if(h=y,c=void 0,u=void 0,d=void 0,n=n||f,i=m||i,"string"==typeof e&&void 0!==h)for(c=(e=e.split(/[\. ]/)).length-1,o=a=0,l=e.length;a<l;o=++a)switch(p=e[o],r=e,o!==c&&(r=p+e[o+1].charAt(0).toUpperCase()+e[o+1].slice(1)),!1){case!(t.isPlainObject(h[r])&&o!==c):h=h[r];break;case void 0===h[r]:u=h[r];break;case!(t.isPlainObject(h[p])&&o!==c):h=h[p];break;case void 0===h[p]:u=h[p];break;default:$("欲呼叫的方法並不存在",e)}switch(!1){case"function"!=typeof u:d=u.apply(i,n);break;case void 0===u:d=u}switch(!1){case d!==s:v=s;break;default:v=d}return u}),w=r({$allModules:s,$this:p,element:m,debug:g=function(){if(T.debug&&!T.silent)return(g=Function.prototype.bind.call(console.info,console,u(arguments),l,"font-weight: bold;")).apply(console,Array.prototype.slice.call(arguments,1))},settings:T,instance:y,index:d}),c?(void 0===y&&b(),E(h)):(void 0!==y&&E("destroy"),b())}),void 0!==v?v:s}}),t.fn.get={value:function(t=0){return this[t]}},t.fn.toArray={value:function(){var t;return t=[],this.forEach(function(e){return t.push(e)}),t}},t.fn.each={value:function(t){return this.forEach(function(e,n){return t.call(e,e,n)}),this}},t.fn.collectSwap={value:function(e){var n,i;return n=[],this.each(function(t,i){var r;if(null!=(r=e.call(t,t,i)))return r instanceof NodeList?r.forEach(function(t){return n.push(t)}):Array.isArray(r)?n=n.concat(r):-1===n.indexOf(r)?n.push(r):void 0}),n=new Set(n),i=t([...n]),Object.defineProperty(i,"prevObject",{value:this}),i}},t.fn.eq={value:function(e){return t(this.get(e))}},t.fn.parent={value:function(){return this.collectSwap(function(){return this.parentNode})}},t.fn.closest={value:function(t){return this.collectSwap(function(){return this.closest(t)})}},t.fn.find={value:function(t){return this.collectSwap(function(){return this.querySelectorAll(t)})}},t.fn.insertBefore={value:function(e){return this.each(function(){return t(e).each(t=>t.parentNode.insertBefore(this,t))})}},t.fn.insertAfter={value:function(e){return this.each(function(){return t(e).each(t=>t.parentNode.insertBefore(this,t.nextSibling))})}},t.fn.wrap={value:function(t){return this.each(function(){return this.nextSibling?this.parentNode.insertBefore(t,this.nextSibling):this.parentNode.appendChild(t),t.appendChild(this)})}},t.fn.clone={value:function(){return this.collectSwap(function(){return this.cloneNode(!0)})}},t.fn.append={value:function(t){var e;return e=1!==this.length,void 0!==t.isSelector?this.each(function(){return t.each(t=>this.appendChild(e?t.cloneNode(!0):t))}):"string"==typeof t?this.each(function(){return this.insertAdjacentHTML("beforeend",t)}):this.each(function(){return this.appendChild(e?t.cloneNode(!0):t)})}},t.fn.appendTo={value:function(e){return this.each(function(){return t(e).append(this)})}},t.fn.prepend={value:function(t){var e;return e=1!==this.length,void 0!==t.isSelector?this.each(function(){return t.each(t=>this.prepend(e?t.cloneNode(!0):t))}):"string"==typeof t?this.each(function(){return this.insertAdjacentHTML("afterbegin",t)}):this.each(function(){return this.prepend(e?t.cloneNode(!0):t)})}},t.fn.prependTo={value:function(e){return this.each(function(){return t(e).prepend(this)})}},t.fn.remove={value:function(){return this.each(function(){var t;return null!=(t=this.parentNode)?t.removeChild(this):void 0})}},t.fn.is={value:function(t){var e,n;return e=document.querySelectorAll(t),n=!1,this.each(function(){return e.forEach(function(t){if(this===t)return n=!0},this)}),n}},t.fn.not={value:function(e){return t(this.toArray().filter(n=>-1===t(e).indexOf(n)))}},t.fn.slice={value:function(e,n){return t(this.toArray().slice(e,n))}},t.fn.children={value:function(t){return this.collectSwap(function(){return this.querySelectorAll(null!=t?`:scope > ${t}`:":scope > *")})}},t.fn.replaceWith={value:function(e){var n;return n=t(e).get(),this.each(function(){return this.replaceWith(n)})}},t.fn.last={value:function(){return this.eq(this.length-1)}},t.fn.next={value:function(){return this.collectSwap(function(){return this.nextElementSibling})}},t.fn.prev={value:function(){return this.collectSwap(function(){return this.previousElementSibling})}},t.fn.nextAll={value:function(e){return this.collectSwap(function(){var n,i,r,o;return i=(r=t(this)).parent(),n=null!=e?i.find(`:scope > ${e}`):i.find(":scope > *"),o=r.index(),n.slice(o+1)})}},t.fn.prevAll={value:function(e){return this.collectSwap(function(){var n,i,r,o;return i=(r=t(this)).parent(),n=null!=e?i.find(`:scope > ${e}`):i.find(":scope > *"),o=r.index(),n.slice(0,o)})}},t.fn.addBack={value:function(){return this.prevObject&&this.prevObject.toArray().forEach(t=>this.push(t)),this}},t.fn.index={value:function(){var t,e;if(t=0,null==(e=this.get(0)))return-1;for(;e=e.previousElementSibling;)t++;return t}},t.fn.attr={value:function(t,e){var n;return void 0!==e?this.each(function(){return this.setAttribute(t,e)}):"object"==typeof t?this.each(function(){var e,n;for(e in n=[],t)n.push(this.setAttribute(e,t[e]));return n}):null!=(n=this.get())?n.getAttribute(t):void 0}},t.fn.removeAttr={value:function(t){return this.each(function(){return this.removeAttribute(t)})}},t.fn.addClass={value:function(t){var e,n;if("object"==typeof t){for(e in n="",t)!0===t[e]&&(n+=` ${e}`);t=n}else t=Array.prototype.slice.call(arguments).join(" ");return this.each(function(){return DOMTokenList.prototype.add.apply(this.classList,t.split(" ").filter(Boolean))})}},t.fn.removeClass={value:function(t){var e,n;if("object"==typeof t){for(e in n="",t)!0===t[e]&&(n+=` ${e}`);t=n}else t=Array.prototype.slice.call(arguments).join(" ");return this.each(function(){return DOMTokenList.prototype.remove.apply(this.classList,t.split(" ").filter(Boolean))})}},t.fn.toggleClass={value:function(t){return this.each(function(){return t.split(" ").forEach(function(t){return this.classList.toggle(t)},this)})}},t.fn.hasClass={value:function(t){var e;return null!=(e=this.get(0))?e.classList.contains(t):void 0}},t.fn.css={value:function(t,e){var n;if("string"==typeof t&&void 0!==e)return this.each(function(){return this.style[t]=e});if("string"==typeof t&&void 0===e)return null!=this.get()?document.defaultView.getComputedStyle(this.get(),null).getPropertyValue(t):null;if("object"==typeof t){for(n in t)this.each(function(){return this.style[n]=t[n]});return this}}},t.fn.on={value:function(){var e,n,i,r,o;switch(arguments.length){case 2:n=arguments[0],i=arguments[1];break;case 3:switch(n=arguments[0],i=arguments[2],typeof arguments[1]){case"string":o=arguments[1];break;case"function":i=arguments[1],r=arguments[2];break;default:e=arguments[1]}break;case 4:switch(n=arguments[0],o=arguments[1],i=arguments[3],typeof arguments[2]){case"function":i=arguments[2],r=arguments[3];break;default:e=arguments[2]}break;case 5:n=arguments[0],o=arguments[1],e=arguments[2],i=arguments[3],r=arguments[4]}return n=t.helper.eventAlias(n),this.each(function(){if(void 0!==this.addEventListener)return void 0===this.$events&&(this.$events={}),n.split(" ").forEach(function(n){var s,u,a;return a=(s=n.split(".")).length>1,n=s[0],u=a?s[1]:null,void 0===this.$events[n]&&(this.$events[n]={anonymous:[]},this.addEventListener(n,function(e){var i,r,s,u,a,l,c,h,f,v,d;if(a=(null!=(c=e.detail)&&null!=(h=c.args)?h.length:void 0)>0,r=null!=(f=e.detail)?f.alias:void 0,void 0!==this.$events[n]){for(i in v=[],this.$events[n])r&&r!==i||(l=this.$events[n][i].length,v.push(function(){var r;for(r=[];l--;)if(void 0!==this.$events[n]&&void 0!==this.$events[n][i]){if(d=this.$events[n][i][l],u=this,void 0!==d.selector){if(o=d.selector,0===(s=t(e.target).closest(o)).length)continue;u=s.get()}e.data=d.data,a?d.func.call(u,e,...e.detail.args):d.func.call(u,e),!0===d.once?r.push(this.$events[n][i].splice(l,1)):r.push(void 0)}return r}.call(this)));return v}})),a?(void 0===this.$events[n][u]&&(this.$events[n][u]=[]),this.$events[n][u].push({func:i,selector:o,data:e,once:null!=r?r.once:void 0})):this.$events[n].anonymous.push({func:i,selector:o,data:e,once:null!=r?r.once:void 0})},this)})}},t.fn.one={value:function(e,n){return e=t.helper.eventAlias(e),this.each(function(){return t(this).on(e,n,{once:!0})})}},t.fn.off={value:function(e,n){return e=t.helper.eventAlias(e),this.each(function(){if(void 0!==this.$events)return e.split(" ").forEach(t=>{var e,i,r,o,s,u;switch(r=t.split("."),s="."===t[0],((o=2===r.length&&""!==r[0])||s)&&(i=r[1]),t=s?void 0:r[0],!1){case!(void 0!==n&&void 0!==this.$events[t]):return this.$events[t].anonymous.forEach((e,i)=>{if(n===e.func)return this.$events[t].anonymous.splice(i,1)});case!(!s&&o&&void 0!==this.$events[t]):return delete this.$events[t][i];case!(s&&!o):for(r in u=[],this.$events)u.push(function(){var t;for(e in t=[],this.$events[r])i===e?t.push(delete this.$events[r][i]):t.push(void 0);return t}.call(this));return u;case void 0===this.$events[t]:return delete this.$events[t]}},this)})}},t.fn.trigger={value:function(e){var n;return e=t.helper.eventAlias(e),n=[].slice.call(arguments,1),this.each(function(){return e.split(" ").forEach(t=>{var e,i,r;return r=(i=t.split("."))[0],e=i.length>1?i[1]:null,i=new CustomEvent(r,{detail:{args:n,alias:e}}),this.dispatchEvent(i)})})}},t.fn.emulate={value:function(e,n){return this.each(function(){var i;return i=!1,t(this).one(e,function(){return i=!0}),setTimeout(()=>{if(!i)return t(this).trigger(e)},n)})}},t.fn.text={value:function(t){var e;return void 0!==t?this.each(function(){return this.innerText=t}):null!=(e=this.get())?e.innerText:void 0}},t.fn.val={value:function(t){var e;return void 0!==t?this.each(function(){return this.value=t}):null!=(e=this.get())?e.value:void 0}},t.fn.html={value:function(t){var e;return void 0!==t?this.each(function(){return this.innerHTML=t}):null!=(e=this.get())?e.innerHTML:void 0}},t.fn.empty={value:function(){return this.each(function(){if(void 0!==this.value&&(this.value=null),void 0!==this.innerHTML&&(this.innerHTML=null),void 0!==this.innerText)return this.innerText=null})}},t.fn.prop={value:function(t,e){var n,i;if("string"==typeof t&&void 0!==e)return this.each(function(){return this[t]=e});if("string"==typeof t&&void 0===e)return null!=(i=this.get())?i[t]:void 0;if("object"==typeof t){for(n in t)this.each(function(){return this[n]=t[n]});return this}}},t.fn.data={value:function(t,e){var n,i,r;if("string"==typeof t&&void 0!==e)return this.each(function(){return void 0===this.$data&&(this.$data={}),this.$data[t]=e});if("string"==typeof t&&void 0===e)return null!=(i=this.get())&&null!=(r=i.$data)?r[t]:void 0;if("object"==typeof t){for(n in t)this.each(function(){return void 0===this.$data&&(this.$data={}),this.$data[n]=t[n]});return this}}},t.fn.removeData={value:function(t){return this.each(function(){if(null!=this.$data[t])return delete this.$data[t]})}},t.fn.hasTimer={value:function(t){var e,n;return null!=(null!=(e=this.get(0))&&null!=(n=e.$timers)?n[t]:void 0)}},t.fn.getTimer={value:function(t){var e,n;return null!=(e=this.get(0))&&null!=(n=e.$timers)?n[t]:void 0}},t.fn.setTimer={value:function(t){return t=Object.assign({},{name:"",callback:function(){},interval:0,looping:!1,visible:!1},t),this.each(function(){var e;return void 0===this.$timers&&(this.$timers={}),void 0!==this.$timers[t.name]&&clearInterval(this.$timers[t.name].timer),e=(()=>{var e;if(!(t.visible&&document.hidden||(this.$timers[t.name].passed+=10,this.$timers[t.name].passed<t.interval)))return t.callback(),t.looping?this.$timers[t.name].passed=0:clearInterval(null!=(e=this.$timers[t.name])?e.timer:void 0)}),this.$timers[t.name]={timer:setInterval(e,10),passed:0,callback:t.callback,interval:t.interval,looping:t.looping,visible:t.visible,initializer:e,paused:!1}})}},t.fn.pauseTimer={value:function(t){return this.each(function(){var e;if(null!=(null!=(e=this.$timers)?e[t]:void 0))return clearInterval(this.$timers[t].timer),this.$timers[t].paused=!0})}},t.fn.playTimer={value:function(t){return this.each(function(){var e;if(null!=(null!=(e=this.$timers)?e[t]:void 0)&&this.$timers[t].paused)return this.$timers[t].timer=setInterval(this.$timers[t].initializer,10),this.$timers[t].paused=!1})}},t.fn.removeTimer={value:function(t){return this.each(function(){var e;if(null!=(null!=(e=this.$timers)?e[t]:void 0))return clearInterval(this.$timers[t].timer),delete this.$timers[t]})}},t.fn.repaint={value:function(){return this.each(function(){this.offsetHeight})}}}).call(this);